<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot importance measures — plot.importance • EIX</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top navbar-mi2" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class = "navbar-mi2logo" href="http://mi2.mini.pw.edu.pl/">
        <img src = "https://github.com/mi2-warsaw/MI2template/blob/master/inst/pkgdown/assets/MI2logo.jpg?raw=true" alt = "MI2" height = 46 title = "MI2">
	  </a>
      <a class="navbar-brand navbar-mi2" href="../index.html">Plot importance measures</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="navbar-mi2 nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot importance measures</h1>
    </div>

    
    <p>This functions plots selected measures of importance for variables and interactions.
It is possible to visualise importance table in two ways: radar plot with six measures
and scatter plot with two choosen measures.</p>
    

    <pre class="usage"><span class='co'># S3 method for importance</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>top</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>radar</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>xmeasure</span> <span class='kw'>=</span> <span class='st'>"sumCover"</span>, <span class='kw'>ymeasure</span> <span class='kw'>=</span> <span class='st'>"sumGain"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a result from the `importance` function.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other parameters.</p></td>
    </tr>
    <tr>
      <th>top</th>
      <td><p>number of positions on the plot or NULL for all variable. Default 10.</p></td>
    </tr>
    <tr>
      <th>radar</th>
      <td><p>TRUE/FALSE. If TRUE the plot shows
six measures of variables' or interactions' importance in the model.
If FALSE the plot containing two chosen measures
of variables' or interactions' importance in the model.</p></td>
    </tr>
    <tr>
      <th>xmeasure</th>
      <td><p>measure on the x-axis.Available for `radar=FALSE`. Default "sumCover".</p></td>
    </tr>
    <tr>
      <th>ymeasure</th>
      <td><p>measure on the y-axis. Available for `radar=FALSE`. Default "sumGain".</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a ggplot object</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Available measures:</p><ul>
<li><p>"sumGain" - sum of Gain value in all nodes, in which given variable occurs,</p></li>
<li><p>"sumCover" - sum of Cover value in all nodes, in which given variable occurs; for LightGBM models: number of observation, which pass through the node,</p></li>
<li><p>"mean5Gain" - mean gain from 5 occurrences of given variable with the highest gain,</p></li>
<li><p>"meanGain" - mean Gain value in all nodes, in which given variable occurs,</p></li>
<li><p>"meanCover" - mean Cover value in all nodes, in which given variable occurs; for LightGBM models: mean number of observation, which pass through the node,</p></li>
<li><p>"freqency" - number of occurrences in the nodes for given variable.</p></li>
</ul>
    <p>Additionally for plots with single variables:</p><ul>
<li><p>"meanDepth"  - mean depth weighted by gain,</p></li>
<li><p>"numberOfRoots" - number of occurrences in the root,</p></li>
<li><p>"weightedRoot" - mean number of occurrences in the root, which is weighted by gain.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='st'>"EIX"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='st'>"Matrix"</span>)
<span class='no'>sm</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/Matrix/topics/sparse.model.matrix'>sparse.model.matrix</a></span>(<span class='no'>left</span> ~ <span class='no'>.</span> - <span class='fl'>1</span>,  <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>HR_data</span>)

<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='st'>"xgboost"</span>)
<span class='no'>param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"binary:logistic"</span>, <span class='kw'>max_depth</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='no'>xgb.model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/xgboost/topics/xgb.train'>xgboost</a></span>(<span class='no'>sm</span>, <span class='kw'>params</span> <span class='kw'>=</span> <span class='no'>param</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>HR_data</span>[, <span class='no'>left</span>] <span class='kw'>==</span> <span class='fl'>1</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>50</span>, <span class='kw'>verbose</span><span class='kw'>=</span><span class='fl'>0</span>)

<span class='no'>imp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='importance.html'>importance</a></span>(<span class='no'>xgb.model</span>, <span class='no'>sm</span>, <span class='kw'>option</span> <span class='kw'>=</span> <span class='st'>"both"</span>)
<span class='no'>imp</span></div><div class='output co'>#&gt;                                     Feature  sumGain sumCover meanGain
#&gt;  1:                      satisfaction_level 10040.00  43920.0   264.10
#&gt;  2:                      time_spend_company  4016.00  19820.0   267.70
#&gt;  3:                          number_project  3706.00  13940.0   264.70
#&gt;  4:                         last_evaluation  1181.00  15340.0    90.81
#&gt;  5:                    average_montly_hours   886.00  18190.0    46.63
#&gt;  6:    last_evaluation:average_montly_hours   745.60   1767.0   372.80
#&gt;  7:      last_evaluation:satisfaction_level   708.90   2985.0   177.20
#&gt;  8:      last_evaluation:time_spend_company   635.00   2535.0   211.70
#&gt;  9:   satisfaction_level:time_spend_company   560.00   1144.0   280.00
#&gt; 10:          last_evaluation:number_project   390.20   1163.0   390.20
#&gt; 11: average_montly_hours:time_spend_company   318.00    906.5   159.00
#&gt; 12:    average_montly_hours:last_evaluation   312.10   1224.0   156.10
#&gt; 13:                           Work_accident   231.20   3972.0    57.81
#&gt; 14:     average_montly_hours:number_project   174.20    504.9   174.20
#&gt; 15: average_montly_hours:satisfaction_level   169.90    575.8   169.90
#&gt; 16: satisfaction_level:average_montly_hours   168.40    496.0   168.40
#&gt; 17:                               salarylow   132.40   3015.0    44.13
#&gt; 18:      satisfaction_level:last_evaluation   131.80    584.4   131.80
#&gt; 19:      time_spend_company:last_evaluation   112.10   1342.0    56.03
#&gt; 20:       satisfaction_level:number_project    87.10   1096.0    87.10
#&gt; 21:                            salarymedium    45.28    709.2    45.28
#&gt; 22:       time_spend_company:number_project    39.78    136.9    39.78
#&gt; 23:          number_project:last_evaluation    19.03    776.2    19.03
#&gt; 24:                  salarylow:salarymedium    14.39    337.7    14.39
#&gt;                                     Feature  sumGain sumCover meanGain
#&gt;     meanCover frequency mean5Gain
#&gt;  1:    1156.0        38   1513.00
#&gt;  2:    1321.0        15    670.40
#&gt;  3:     995.6        14    697.40
#&gt;  4:    1180.0        13    183.00
#&gt;  5:     957.6        19     97.50
#&gt;  6:     883.7         2    372.80
#&gt;  7:     746.2         4    177.20
#&gt;  8:     845.0         3    211.70
#&gt;  9:     571.9         2    280.00
#&gt; 10:    1163.0         1    390.20
#&gt; 11:     453.2         2    159.00
#&gt; 12:     612.2         2    156.10
#&gt; 13:     992.9         4     57.81
#&gt; 14:     504.9         1    174.20
#&gt; 15:     575.8         1    169.90
#&gt; 16:     496.0         1    168.40
#&gt; 17:    1005.0         3     44.13
#&gt; 18:     584.4         1    131.80
#&gt; 19:     671.2         2     56.03
#&gt; 20:    1096.0         1     87.10
#&gt; 21:     709.2         1     45.28
#&gt; 22:     136.9         1     39.78
#&gt; 23:     776.2         1     19.03
#&gt; 24:     337.7         1     14.39
#&gt;     meanCover frequency mean5Gain</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>imp</span>,  <span class='kw'>top</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='img'><img src='plot.importance-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='no'>imp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='importance.html'>importance</a></span>(<span class='no'>xgb.model</span>, <span class='no'>sm</span>, <span class='kw'>option</span> <span class='kw'>=</span> <span class='st'>"variables"</span>)
<span class='no'>imp</span></div><div class='output co'>#&gt;                 Feature numberOfRoots weightedRoot meanDepth  sumGain sumCover
#&gt; 1:   satisfaction_level            16      12.3800   0.21160 10920.00    47480
#&gt; 2:   time_spend_company             5       0.2425   0.90240  5529.00    24410
#&gt; 3:       number_project             2       0.0088   0.98880  4398.00    16840
#&gt; 4: average_montly_hours            11       0.5522   0.68970  1800.00    20460
#&gt; 5:      last_evaluation            11       1.0370   0.40280  1756.00    19270
#&gt; 6:        Work_accident             3       0.0592   0.05031   231.20     3972
#&gt; 7:            salarylow             2       0.0186   0.21850   132.40     3015
#&gt; 8:         salarymedium             0       0.0000   1.00000    59.67     1047
#&gt;    meanGain meanCover frequency mean5Gain
#&gt; 1:   253.90    1104.0        43   1513.00
#&gt; 2:   251.30    1109.0        22    751.50
#&gt; 3:   244.30     935.5        18    721.70
#&gt; 4:    81.82     929.9        22    241.70
#&gt; 5:    92.40    1014.0        19    209.80
#&gt; 6:    57.81     992.9         4     57.81
#&gt; 7:    44.13    1005.0         3     44.13
#&gt; 8:    29.84     523.4         2     29.84</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>imp</span>,  <span class='kw'>top</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/nrow'>nrow</a></span>(<span class='no'>imp</span>))</div><div class='img'><img src='plot.importance-2.png' alt='' width='700' height='433' /></div><div class='input'>
 <span class='no'>imp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='importance.html'>importance</a></span>(<span class='no'>xgb.model</span>, <span class='no'>sm</span>, <span class='kw'>option</span> <span class='kw'>=</span> <span class='st'>"interactions"</span>)
 <span class='no'>imp</span></div><div class='output co'>#&gt;                                     Feature sumGain sumCover meanGain meanCover
#&gt;  1:    last_evaluation:average_montly_hours  745.60   1767.0   372.80     883.7
#&gt;  2:      last_evaluation:satisfaction_level  708.90   2985.0   177.20     746.2
#&gt;  3:      last_evaluation:time_spend_company  635.00   2535.0   211.70     845.0
#&gt;  4:   satisfaction_level:time_spend_company  560.00   1144.0   280.00     571.9
#&gt;  5:          last_evaluation:number_project  390.20   1163.0   390.20    1163.0
#&gt;  6: average_montly_hours:time_spend_company  318.00    906.5   159.00     453.2
#&gt;  7:    average_montly_hours:last_evaluation  312.10   1224.0   156.10     612.2
#&gt;  8:     average_montly_hours:number_project  174.20    504.9   174.20     504.9
#&gt;  9: average_montly_hours:satisfaction_level  169.90    575.8   169.90     575.8
#&gt; 10: satisfaction_level:average_montly_hours  168.40    496.0   168.40     496.0
#&gt; 11:      satisfaction_level:last_evaluation  131.80    584.4   131.80     584.4
#&gt; 12:      time_spend_company:last_evaluation  112.10   1342.0    56.03     671.2
#&gt; 13:       satisfaction_level:number_project   87.10   1096.0    87.10    1096.0
#&gt; 14:       time_spend_company:number_project   39.78    136.9    39.78     136.9
#&gt; 15:          number_project:last_evaluation   19.03    776.2    19.03     776.2
#&gt; 16:                  salarylow:salarymedium   14.39    337.7    14.39     337.7
#&gt;     frequency mean5Gain
#&gt;  1:         2    372.80
#&gt;  2:         4    177.20
#&gt;  3:         3    211.70
#&gt;  4:         2    280.00
#&gt;  5:         1    390.20
#&gt;  6:         2    159.00
#&gt;  7:         2    156.10
#&gt;  8:         1    174.20
#&gt;  9:         1    169.90
#&gt; 10:         1    168.40
#&gt; 11:         1    131.80
#&gt; 12:         2     56.03
#&gt; 13:         1     87.10
#&gt; 14:         1     39.78
#&gt; 15:         1     19.03
#&gt; 16:         1     14.39</div><div class='input'> <span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>imp</span>,  <span class='kw'>top</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='img'><img src='plot.importance-3.png' alt='' width='700' height='433' /></div><div class='input'>
 <span class='no'>imp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='importance.html'>importance</a></span>(<span class='no'>xgb.model</span>, <span class='no'>sm</span>, <span class='kw'>option</span> <span class='kw'>=</span> <span class='st'>"variables"</span>)
 <span class='no'>imp</span></div><div class='output co'>#&gt;                 Feature numberOfRoots weightedRoot meanDepth  sumGain sumCover
#&gt; 1:   satisfaction_level            16      12.3800   0.21160 10920.00    47480
#&gt; 2:   time_spend_company             5       0.2425   0.90240  5529.00    24410
#&gt; 3:       number_project             2       0.0088   0.98880  4398.00    16840
#&gt; 4: average_montly_hours            11       0.5522   0.68970  1800.00    20460
#&gt; 5:      last_evaluation            11       1.0370   0.40280  1756.00    19270
#&gt; 6:        Work_accident             3       0.0592   0.05031   231.20     3972
#&gt; 7:            salarylow             2       0.0186   0.21850   132.40     3015
#&gt; 8:         salarymedium             0       0.0000   1.00000    59.67     1047
#&gt;    meanGain meanCover frequency mean5Gain
#&gt; 1:   253.90    1104.0        43   1513.00
#&gt; 2:   251.30    1109.0        22    751.50
#&gt; 3:   244.30     935.5        18    721.70
#&gt; 4:    81.82     929.9        22    241.70
#&gt; 5:    92.40    1014.0        19    209.80
#&gt; 6:    57.81     992.9         4     57.81
#&gt; 7:    44.13    1005.0         3     44.13
#&gt; 8:    29.84     523.4         2     29.84</div><div class='input'> <span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>imp</span>, <span class='kw'>top</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/nrow'>nrow</a></span>(<span class='no'>imp</span>), <span class='kw'>radar</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>xmeasure</span> <span class='kw'>=</span> <span class='st'>"sumCover"</span>, <span class='kw'>ymeasure</span> <span class='kw'>=</span> <span class='st'>"sumGain"</span>)</div><div class='img'><img src='plot.importance-4.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Ewelina Karbowiak, Przemyslaw Biecek.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

